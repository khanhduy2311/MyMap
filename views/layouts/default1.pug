doctype html
html(lang="vi")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", rel="stylesheet")
    link(rel="stylesheet", href="/css/style-home.css")
    title #{pageTitle} | MindTree

  body(class=user ? '' : 'has-fullscreen-bg').d-flex.flex-column.min-vh-100
    //- Header chung
    header.main-header
      .container
        .d-flex.justify-content-between.align-items-center
          a(href="/", class="logo-header") MINDTREE
          //- Logic hiển thị thông tin người dùng
          .user-info
            if user
              script.
                window.location.href = '/userHome';
            else
              a(href="/register", class="header-link") Đăng Ký
              span.separator |
              a(href="/login", class="header-link") Đăng Nhập

    //- Phần thân chính của trang
    main.main-content.flex-grow-1
      .container-fluid.p-0
        //- Hiển thị thông báo (flash messages)
        if success_msg && success_msg.length > 0
          .container.mt-4
            .alert.alert-success.alert-dismissible.fade.show(role="alert")
              = success_msg
              button(type="button", class="btn-close", data-bs-dismiss="alert", aria-label="Close")
        if error_msg && error_msg.length > 0
          .container.mt-4
            .alert.alert-danger.alert-dismissible.fade.show(role="alert")
              = error_msg
              button(type="button", class="btn-close", data-bs-dismiss="alert", aria-label="Close")
        
        block main

    //- Footer chung
    footer.text-center.p-3.mt-auto
      .container
        span.text-white-50 &copy; 2025 Bản quyền thuộc về Nhóm 3 anh em siu nhân.

    //- Script
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")