extends ../views/layouts/defaultHome.pug

block styles
  link(rel="stylesheet" href="/css/style-home.css")


block main
  //- Kiểm tra nếu người dùng đã đăng nhập thì chuyển hướng
  if user
    script.
      window.location.href = "/userHome";

  //- Nếu chưa đăng nhập, hiển thị giao diện trang chủ anime cinematic
  else
    //- Loading overlay với hiệu ứng anime
    .loading-overlay
      .loading-spinner
      .loading-text Đang tải MindTree...

    //- Background Particles
    #particles-js

    //- Fullscreen Carousel với hiệu ứng cinematic
    .fullscreen-bg-carousel
      #imageCarousel.carousel.slide.carousel-fade(data-bs-ride="carousel" data-bs-pause="false")
        .carousel-inner
          .carousel-item.active(data-bs-interval="5000")
            img.d-block.w-100(src="https://media.istockphoto.com/id/2167740181/vi/anh/v%C3%B2ng-tay-l%E1%BA%B7ng-l%E1%BA%BD-c%E1%BB%A7a-th%C6%B0-vi%E1%BB%87n-nh%E1%BB%AFng-d%C3%A3y-s%C3%A1ch-x%E1%BA%BFp-h%C3%A0ng-tr%C3%AAn-k%E1%BB%87-g%E1%BB%97.jpg?s=612x612&w=0&k=20&c=EbJ-6Hd4OJ_rqrv7zl8_i6hd7rEBr1OcM0HzkUXME4E=", alt="Thư viện cổ điển")
          .carousel-item(data-bs-interval="5000")
            img.d-block.w-100(src="https://media.istockphoto.com/id/2217700434/vi/anh/library-of-19th-century.jpg?s=612x612&w=0&k=20&c=w4_6Tj8jJfGy_LYw2sVXi86t4xAfbNWW1q__KxvDmbA=", alt="Thư viện thế kỷ 19")
          .carousel-item(data-bs-interval="5000")
            img.d-block.w-100(src="https://media.istockphoto.com/id/2151138214/vi/anh/magnifying-glass-with-text-search-on-wood-cubes-find-the-answers-search-concept-wooden-cube.jpg?s=612x612&w=0&k=20&c=Pb2TmLv4h-ebu2S96e3nlZ6Un2KZWTgzCNqJTtI3MgQ=", alt="Tìm kiếm thông tin")
          .carousel-item(data-bs-interval="5000")
            img.d-block.w-100(src="https://media.istockphoto.com/id/869761964/vi/anh/n%E1%BB%81n-t%E1%BA%A3ng-kinh-doanh-v%C3%A0-gi%C3%A1o-d%E1%BB%A5c.jpg?s=612x612&w=0&k=20&c=HuEc7PVrRNueBoAp7ZcKgRZQ4H5ZNZzXp6fCvJGxSMg=", alt="Nền tảng tri thức")

    //- Floating Books Animation - Sách bay lung linh
    .floating-books
      .book
      .book
      .book
      .book
      .book
      .book

    //- Content Overlay với hiệu ứng anime cinematic
    .content-overlay
      .container
        .row.justify-content-center
          .col-lg-8.col-md-10
            .hero-text
              //- Logo và tiêu đề chính - HIỆN RÕ RÀNG
              h1.mb-4 
                span.mindtree-text MindTree
              
              //- Mô tả - không có chữ tô đậm
              p.lead.mb-5 
                | Nơi trực quan hóa mọi tài liệu phức tạp chỉ với một cú nhấp chuột!
              
              //- Container cho các nút hành động
              .cta-container
                a.register_css(href="/register")
                  span Bắt đầu ngay
                a.login_css(href="/login")
                  span Đăng nhập
              
              //- Nút tìm hiểu thêm
              a.learn-more_css(href="/about")
                span Tìm hiểu thêm về MindTree →

    //- Thêm scripts cho particles và hiệu ứng
    script(src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js")
    script.
      document.addEventListener('DOMContentLoaded', function() {
        // Khởi tạo particles.js
        if (typeof particlesJS !== 'undefined') {
          particlesJS('particles-js', {
            particles: {
              number: { 
                value: 80, 
                density: { 
                  enable: true, 
                  value_area: 800 
                } 
              },
              color: { 
                value: ["#ff6b9d", "#4fc3f7", "#9c27b0", "#ff8e53"] 
              },
              shape: { 
                type: "circle"
              },
              opacity: { 
                value: 0.7, 
                random: true
              },
              size: { 
                value: 3, 
                random: true
              },
              line_linked: {
                enable: true,
                distance: 150,
                color: "#ffffff",
                opacity: 0.3,
                width: 1
              },
              move: {
                enable: true,
                speed: 2,
                direction: "none",
                random: true,
                straight: false,
                out_mode: "out",
                bounce: false
              }
            },
            interactivity: {
              detect_on: "canvas",
              events: {
                onhover: { 
                  enable: true, 
                  mode: "grab" 
                },
                onclick: { 
                  enable: true, 
                  mode: "push" 
                },
                resize: true
              }
            }
          });
        }

        // Ẩn loading overlay với hiệu ứng
        setTimeout(() => {
          const loadingOverlay = document.querySelector('.loading-overlay');
          if (loadingOverlay) {
            loadingOverlay.style.opacity = '0';
            setTimeout(() => {
              loadingOverlay.style.display = 'none';
            }, 500);
          }
        }, 2000);
      });